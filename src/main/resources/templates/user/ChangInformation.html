<html xmlns:th="http://www.thymeleaf.org" >
<head>
  <title>Đổi thông tin khách hàng</title>
  <link rel="shortcut icon" href="/assets/images/favicon.png" />
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet"
        href="/assets/vendors/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.base.css">
  <!-- Popper JS -->
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="/assets/css/style.css">

  <link rel="stylesheet" href="/assets/css/buttonUpload.css">


  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="/js/angular/EditUser.js"></script>
  <script src="/js/Alter.js"></script>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/sach.css">
  <link rel="stylesheet" href="/assets/css/alter.css">


  <link rel="stylesheet" href="/assets/css/orderstatus.css">
  <link rel="stylesheet" href="/assets/css/sach.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="/js/quanhuyen.js"></script>
  <script src="/js/procvinces.js"></script>

  <style>
    .form-group .form-control {
      padding: 0.4375rem 0.75rem !important;
    }
    .border-end{

      border-right: 0px !important;

    }
  </style>

</head>

<body  class="boody" id="boody" ng-app="app" ng-controller="ctrluser">

<!-- header -->
<div th:replace="partials/header.html"></div>
<div id="toast"></div>

<div style="display: flex; margin-top: 6.4375rem;" >
    <!-- Sidebar-->
    <div class="border-end " style="width: 208px !important;margin-left: 75px;margin-top: 35px;" id="sidebar-wrapper">
      <div class="av">
        <div class="shop-avatar">
          <th:block th:if="${session.users.img} != null">
              <img th:src="@{|/file/user/${session.users.img}|}" alt="">
          </th:block>
          <th:block th:unless ="${session.users.img} != null">
            <img src="/file/user/avatar-3814049_960_720.png" alt="">
          </th:block>

        </div>
        <div>
          <div class="tt">[[${session.users.username}]]</div>
          <a class="hoso" href="/accounts/changinformation"><i class="fa fa-pencil" aria-hidden="true"></i> Sửa hồ sơ</a>
        </div>
      </div>
      <div class="list-group list-group-flush">

        <a class="list-group-item list-group-item-action list-group-item-light p-3" style="color: #ee4d2d !important;" >
          <i class="fa fa-user" aria-hidden="true"></i>Tài khoản của tôi</a>
        <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/accounts/orderstatus"><i
                class="fa fa-list-alt" aria-hidden="true"></i>Đơn mua</a>
        <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/accounts/purchased">
          <i class="fa fa-bell"   aria-hidden="true"></i>Sản phẩm đã mua</a>
        <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!"></a>
      </div>
    </div>
    <!-- Page content wrapper-->
    <div class="content-wrapper" id="sidebar-wrapper" style="padding: 33px 0px;">
        <div class="col-lg-11 grid-margin stretch-card">
          <div class="card" style="margin: 0px;">
            <div class="card-body">

              <form  class="form-sample" method="post">
                
                <div class="row">
                  <div class="col-md-3">

                    <div class="avatar-upload">

                      <div class="avatar-edit">
                        <label style="position: absolute; width: 212px; height: 212px; left: -4px; top: 40px; opacity: 0;" for="upload"></label>
                        <input id="upload" name="imgs files" type="file" accept=".png, .jpg, .jpeg" onchange="readURL(this); angular.element(this).scope().uploadfile(this.files);"  />
                      </div>
                      <div class="avatar-preview" style="right: 180px; top: 50px;">
                        <img width="200px" height="200px" id="imageResult"
                             src="/file/user/{{::(item.img === null ? 'avatar-3814049_960_720.png' : item.img)}}">
                        <label style="margin-top: 25px; margin-left: 26px;" for="upload">Upload
                          ảnh đại diện</label>
                      </div>
                    </div>

                  </div>
                  <div class="col-md-9">

                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">User Name</label>
                          <div class="col-sm-9">
                            <div class="form-control">{{item.username}}</div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Full Name</label>
                          <div class="col-sm-9">
                            <input ng-model="item.cutomer.name" type="text" class="form-control" />
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Gmail</label>
                          <div class="col-sm-9">
                            <input ng-model="item.email" type="email" class="form-control" />
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Số điện thoại</label>
                          <div class="col-sm-9">
                            <input maxlength="10" minlength="9" ng-model="item.cutomer.tel" onkeypress="return onlyNumberKey(event)" type="tel" class="form-control" />
                          </div>
                        </div>
                      </div>


                    </div>
                    <div class="row">

                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Tỉnh / Thành phố</label>
                          <div class="col-sm-9">
                            <select id="provin" class="form-control" name="calc_shipping_provinces" required="">
                              <option value="">Tỉnh / Thành phố</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Quận / Huyện</label>
                          <div class="col-sm-9">
                            <select class="form-control" name="calc_shipping_district" required="">
                              <option value="">Quận / Huyện</option>
                            </select>
                          </div>
                        </div>

                      </div>


                      <input class="billing_address_1" id="address_1" name="provinces" type="hidden" value="">
                      <input class="billing_address_2" id="address_2" name="district" type="hidden" value="">
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Phường / Xã</label>
                          <div class="col-sm-9">
                            <select ng-click="Ward()" id="wards" ng-model="item.cutomer.ward" ng-value="item.cutomer.ward" class="form-control" name="calc_shipping_Ward" required="" >
                              <option value="">Phường / Xã</option>
                              <option ng-repeat="item in wardGHN" value="{{item.WardName}}">{{item.WardName}}</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Date of Birth</label>
                          <div class="col-sm-9">
                            <input  type="date" id="DateofBirth" ng-value="item.cutomer.birthday" class="form-control" />
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group row">
                          <label class="col-sm-3 col-form-label">Sex</label>
                          <div class="col-sm-4">
                            <div class="form-check">
                              <label class="form-check-label">
                                <input type="radio"
                                       ng-model="item.cutomer.sex" ng-checked="item.cutomer.sex=='Male'" class="form-check-input"
                                       name="membershipRadios" id="membershipRadios1"
                                       value="Male" /> Male
                              </label>
                            </div>
                          </div>

                          <div class="col-sm-5">
                            <div class="form-check">
                              <label class="form-check-label">
                                <input type="radio"
                                       ng-model="item.cutomer.sex" ng-checked="item.cutomer.sex=='Female'" class="form-check-input"
                                       name="membershipRadios" id="membershipRadios2"
                                       value="Female" /> Female
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label FOR="exampleTextarea1">Address</label>
                      <textarea ng-model="item.cutomer.address" class="form-control"
                                id="exampleTextarea1" rows="4" ></textarea>
                    </div>
                  </div>

                </div>


                <button type="submit" ng-click="update(item)"
                        class="btn btn-gradient-success btn-rounded btn-fw">
                  <i class="mdi mdi-content-save"></i>Update
                </button>
                <button type="submit" ng-click="reset()"
                        class="btn btn-gradient-warning btn-rounded btn-fw">
                  <i class="mdi mdi-reload btn-icon-prepend"></i> Reset
                </button>
                <button type="submit"
                        class="btn btn-gradient-primary btn-rounded btn-fw">
                  <a href="/product/index" style="color: white,text-decoration: none;"; >
                    <i class="mdi mdi-exit-to-app"></i> Cancel
                  </a>

                </button>
              </form>
            </div>
          </div>
        </div>


    </div>
    <!-- Page content-->

  </div>




<!-- footer -->
<div th:replace="partials/footer.html"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script src="/js/uploatfile.js"></script>


<script src="/assets/vendors/js/vendor.bundle.base.js"></script>
<script src="/assets/js/misc.js"></script>
<script>
  function onlyNumberKey(evt) {
    var ASCIICode = (evt.which) ? evt.which : evt.keyCode
    if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))
      return false;
    return true;
  }
</script>

</body>

</html>